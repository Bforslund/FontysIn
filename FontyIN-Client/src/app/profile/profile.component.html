
<button mat-button
    id="contact"
    *ngIf="loggedInUser != profileUser && isConnected && isRequestSent"
    >Connected
</button>
<button mat-button
    id="contact"
    *ngIf="loggedInUser != profileUser && !isConnected && isRequestSent"
    >Request sent
</button>
<button mat-button
        id="contact"
        *ngIf="loggedInUser != profileUser && !isConnected && !isRequestSent"
        (click)="createContact()">Connect
</button>


<div class="container" style="margin:30px;">

    <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#addProfileModal" id="buttonAdd">Add New Profile</button>
    <br><br><br>
    <div class="modal fade" id="addProfileModal">
        <div class="modal-dialog">
        <div class="modal-content">
        
            <!-- Modal Header -->
            <div class="modal-header">
            <h4 class="modal-title">Add Profile</h4>
            <button 
                type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            
            <!-- Modal body -->
            <div class="modal-body"> 
                                                            <!-- here this hastag is used to create a new variable which takes the whole form and then that value is  
                                                            used to send the data in onSubmitExperience which is created it in profile.component.ts-->
                   <form class="text-center" #userProfile="ngForm" (ngSubmit)="onSubmitProfile(userProfile.value)">
                       <div class="form-group">
                            <label for="language"> Language</label>
                            <input 
                                required 
                                ngModel 
                                name="language" 
                                id="language" 
                                type="text" 
                                #language ="ngModel" 
                                class="form-control">
                            <div class="alert alert-danger" 
                            *ngIf="language.touched && !language.valid">
                                Not valid
                            </div>
                        </div>
                      
                       <!-- <div class="form-group">
                           <label for="about">About </label>
                           <textarea 
                                required 
                                minlength="25" 
                                maxlength="200" 
                                ngModel 
                                name="about"  
                                #about ="ngModel" 
                                id="about" 
                                cols="25" 
                                rows="10" 
                                class="form-control">
                           </textarea>

                           <div class="alert alert-danger" 
                           *ngIf="about.touched && !about.valid">
                                <div *ngIf="about.errors.required">
                                     About is required
                                </div>   
                                <div *ngIf="about.errors.minlength"> 
                                    minimum length is  {{about.errors.minlength.requiredLength}}
                                </div>
                           </div>
                        </div> --> 
                        <button 
                            mdbBtn 
                            type="submit"  
                            color="success" 
                            rounded="true" 
                            id="submitButton" 
                            onclick="$('.modal').modal('hide')&&$('.modal-backdrop').hide()" > submit
                        </button>
                    </form>
                </div>
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>           
                </div>
            </div>
        </div>
    </div>
    
</div>   
<div class="container-fluid">
    <div class="container p-3 my-3 border" >
        <div class="dropdown" mdbDropdown style="float: right;">

            <button Toggle mdbBtn color="primary" class="dropdown-toggle waves-light" type="button" 
              mdbWavesEffect>
              Switch Profile
            </button>

            <div class="dropdown-menu dropdown-pzrimary">
                <li *ngFor="let p of profileData">
                <a class="dropdown-item" href="/users/{{p.userId}}/profiles/{{p.id}}" > {{p.language}}</a>
                </li>
            </div>
          </div>
        <div ng-controller="userFirstName, userLastName">
                <h1> {{userFirstName}} {{userLastName}} </h1>  
        </div>
    </div>
    <div class="container p-3 bg-dark my-3 border text-white">
                
    <h1> About </h1>
    <ul id="test"  *ngFor="let p of aboutList">
        {{p.content}} 
      </ul>
  
</div>

<div class="container p-3 my-3 border" >

            <!-- The Modal -->
            <div class="modal fade" id="myModal">
                <div class="modal-dialog">
                <div class="modal-content">
                
                    <!-- Modal Header -->
                    <div class="modal-header">
                    <h4 class="modal-title">Add Experience</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    
                    <!-- Modal body -->
                    <div class="modal-body"> 
                                                                    <!-- here this hastag is used to create a new variable which takes the whole form and then that value is  
                                                                    used to send the data in onSubmitExperience which is created it in profile.component.ts-->
                        <form  class="text-center border border-silver" #userExperience="ngForm" (ngSubmit)="onSubmitExperience(userExperience.value)"> 
                            <label ><h3>Company</h3> </label> <br>
                                <input type="text" name="company" ngModel placeholder="Company"> <br>
                           
                           
                            <label ><h3>Title</h3></label> <br>
                            <input type="text" name="title" ngModel placeholder="title"> <br>
                           
                            <!-- <label>
                                Employement Type
                            </label> <br>
                            <input list="employementTypes" name="employementType">
                                <datalist id="employementTypes">
                                    <option value="FullTime">
                                    <option value="PartTime">
                                    <option value="FreeLancer">
                                </datalist>    -->
                                
                               
                            <label ><h3>Job Type</h3></label>  <br>
                                <input type="text" name="employementType" ngModel placeholder="ex: Fulltime, PartTime, FreeLancer"> <br>
                                
                            <br>
                            <label> <h3>Location Id </h3> </label> <br>
                            <input type="text" name="locationId" ngModel placeholder="locationId"> <br> 
    
                            <label> <h3> Start Date </h3></label> <br>
                            <input type="date" name="startDateExperience" ngModel placeholder="ex: 02/02/2003"> <br>
                            <label ><h3> End Date </h3></label> <br>
                            <input type="date" name="endDateExperience" ngModel placeholder="ex: 02/02/2003"> <br>
                            <label ><h3> description </h3></label> <br>
                            <input type="text" name="descriptionExperience" ngModel placeholder="ex: I have had a very good experience"> <br> <br>
                            <button type="submit" id="submitButton" > submit </button>
                            
                        </form>
                    </div>
                    
                    <!-- Modal footer -->
                    <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>
                    
                </div>
                </div>
            </div>
    <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#myModal" id="buttonAdd">+</button>
    <h1>Experience</h1> 
    <table class="table table-striped" >
        <thead>

        </thead>
        <tbody >
          <tr id="test"  *ngFor="let p of experiencesList">
           
            <td class="font-italic"> <h3>{{p.title | uppercase}} </h3> 
            {{p.company}} . {{p.employmentType}} <br>
            {{p.startDateExperience}} - {{p.endDateExperience}} <br>
            {{p.descriptionExperience}} </td>
            <button class="btn btn-danger float-right" id="" (click)="deleteExperience(p.id)">Delete</button>

          </tr>
          
        </tbody>
    </table>
</div>

<div class="container p-3 my-3 border">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#educationModal" id="buttonAdd">+</button>
        <h1>Educations</h1>
    
        <!-- The Modal -->
            <div class="modal fade" id="educationModal">
                <div class="modal-dialog">
                <div class="modal-content">
                
                    <!-- Modal Header -->
                    <div class="modal-header">
                    <h4 class="modal-title">Add Education</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    
                    <!-- Modal body -->
                    <div class="modal-body"> 
                                                                    <!-- here this hastag is used to create a new variable which takes the whole form and then that value is  
                                                                    used to send the data in onSubmitExperience which is created it in profile.component.ts-->
                        <form  class="text-center border border-silver" #userEducation="ngForm" (ngSubmit)="onSubmitEducation(userEducation.value)"> 
                            <label ><h3>School</h3> </label> <br>
                                <input type="text" name="school" ngModel > <br>
                           
                           
                            <label ><h3>From</h3></label> <br>
                            <input type="date" name="startYearEducation" ngModel > <br>
                           
                            <label ><h3>Until</h3></label>  <br>
                                <input type="date" name="endYearEducation" ngModel > <br>
                            
                            <br>
                            <label> <h3>Degree </h3> </label> <br>
                            <input type="text" name="degreeEducation" ngModel> <br> 
    
                            <label> <h3> Field</h3></label> <br>
                            <input type="text" name="fieldStudy" ngModel > <br>
                            <label ><h3> Description </h3></label> <br>
                            <input type="text" name="descriptionEducation" ngModel> <br>
                            <br><br>
                            <button type="submit" id="submitButton" > submit </button>
                            
                        </form>
                    </div>
                    
                    <!-- Modal footer -->
                    <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>
                    
                </div>
                </div>
            </div>
        <!-- <button class="btn btn-danger" id="" (click)="deleteEducation()">-</button> -->

        <table class="table table-striped">
            <thead>
            </thead>
        <tbody>
                <tr id="test"  *ngFor="let p of educationsList">
                <td> <h3> {{p.school}} </h3>
                {{p.degreeEducation}}, {{p.fieldStudy}} <br>
                {{p.startYearEducation}} - {{p.endYearEducation}} <br>
                {{p.descriptionEducation}} </td>
            </tr>
        </tbody>
        </table>
    </div>

    <div class="container p-3 my-3 border">
        <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#skillModal" id="buttonAdd">+</button>
    <h1>Skills</h1>
    

    <li style="list-style-type: none;" id="test"  *ngFor="let p of skillsList">
        {{p.name}} 
      </li>
</div>
<div class="modal fade" id="skillModal">
    <div class="modal-dialog">
    <div class="modal-content">
    
        <!-- Modal Header -->
        <div class="modal-header">
        <h4 class="modal-title">Add Skill</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body"> 
                                                        <!-- here this hastag is used to create a new variable which takes the whole form and then that value is  
                                                        used to send the data in onSubmitExperience which is created it in profile.component.ts-->
            <form  class="text-center border border-silver" #userSkill="ngForm" (ngSubmit)= "onSubmitSkill(userSkill.value)"> 
                <label ><h3>Skill</h3> </label> <br>
                    <input type="text" name="skill" ngModel> <br>

                <button type="submit" id="submitButton" > submit </button>
                
            </form>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
    </div>
    </div>
</div>


</div>


<!-- <div class="Experience">
    <h1> Experience </h1>
    {{p?.company}}
</div>
<div class="Education">
    <h1> Education </h1>
    {{p?.degree}}
</div>
<div class="Skills">
    <h1> Skills </h1>
    {{p?.name}}
</div> -->